<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/main.css">
  <script src="js/handlebars-v4.0.12.js"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
</head>

<body>
  <!-- <ul class="nav">
    <img id="logo" src="img/logo.png">
  </ul> -->
  <div class="container-fluid">
    
    <div class="row">
      <div class="col-lg-12 top-nav">
        <ul class="top-nav ul-flex">
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-3 sidebar-overlay">
      <div class="sidebar">
        <div class="div-logo">
        <img id="logo" src="img/logo.png"><br>
        <h3>Gotta catch em all!</h3>
        </div>
        <div class="form">
        <br>
        <label for="input-pokemon-type">Pokemon Type</label><br>
        <select id="input-pokemon-type" name="input-pokemon-type" class="input-pokemon-type">
          <option value="all">All</option> 
          <option value="electric">Electric</option>
          <option value="fire">Fire</option>
          <option value="water">Water</option>
          <option value="normal">Normal</option>
          <option value="poison">Poison</option>
          <option value="psychic">Psychic</option>
          <option value="fairy">Fairy</option>
          <option value="flying">Flying</option>
          <option value="dragon">Dragon</option>
        </select>

        <label for="input-weakness-type">Pokemon Weakness</label><br>
        <select id="input-weakness-type" name="input-weakness-type" class="input-weakness-type">
          <option value="all">All</option> 
          <option value="electric">Electric</option>
          <option value="fire">Fire</option>
          <option value="water">Water</option>
          <option value="ground">Ground</option>
          <option value="normal">Normal</option>
          <option value="poison">Poison</option>
          <option value="psychic">Psychic</option>
          <option value="fairy">Fairy</option>
          <option value="flying">Flying</option>
          <option value="dragon">Dragon</option>
        </select>

        <label for="input-fly-type">Flies</label><br>
        <select id="input-fly-type" name="input-fly-type" value="default" class="input-fly-type">
            <option value="default">Default</option>
          <option value="yes">Yes</option>
          <option value="no">No</option>
        </select>
      </div>
      </div>
      </div>
<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-nr="">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title name" id="exampleModalLabel">Name</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-center">
        <img class="mb-4" src="" id="img-modal" alt="Img Modal">
        <div class="badge-type-div">
          <p>Type:</p>
        </div>
        <p id="description" class="mt-4"></p>
        <div class="badge-div">
          <p>Weaknesses:</p>
        </div>
        <div class="evolution-div mt-4">
          <div class="row">
          <div class="evolvesFrom col-6">
            Evolves from:<br>
            <img class="evolves-from-img" src="#">
          </div>
          <div class="evolvesTo col-6">
            Evolves to:<br>
            <img class="evolves-to-img" src="#">
          </div>

          <div class="pokemon-card-div col-6">
              Cards:<br>
              <img class="pokemon-card-img" src="#">
            </div>
        </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>



      <div class="col-lg-9 main-menu text-center" style="background-image:url('img/bg.png');">
  <div class="row" id="target" style="background-image:url('img/bg.png');">

        </div>
      </div>
    </div>
  </div>


  <script src="js/vendor/modernizr-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.3.1.min.js"><\/script>')</script>
  <script src="js/plugins.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/data.js"></script>
  <script src="js/main.js"></script>

  <script id="summative-template" type="text/x-handlebars-template">
    <div class="container">  
    </div>
    {{#each names}}
    <div class="col-lg-3 col-md-6 col-sm-12 mt-5 text-center card-hide {{flies}} {{class}} {{wclass}}" data-toggle="modal" data-target="#exampleModal" data-nr="{{@index}}">
        <div class="card text-center mx-auto" style="width: 17rem;">
          <img class="card-img-top card-img-1" src="img/{{image}}" alt="Card image cap">
          <div class="card-body">
            <h4 class="card-title title-one m-0">{{name}}</h5>
            <!-- <p class="card-text">Sup the bulk of the card's content.</p> -->
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item {{class}}-bg">Type: {{type}}</li>
            <li class="list-group-item weakness">Weakness: {{weakness}}{{{emojiWeakness}}}</li>
            {{#if flying}}
            <li class="list-group-item">Flies: {{{flying}}}</li>
            {{/if}}
            {{#if evolvesFrom}}
            <li class="list-group-item evolves-from">Evolves from: {{evolvesFrom}}</li>
            {{/if}}
            {{#if evolvesTo}}
            <li class="list-group-item evolves-to">Evolves to: {{evolvesTo}}</li>
            {{/if}}
          </ul>
        </div>
    </div>
    {{/each}}
  </script>

  <script type="text/javascript">

    var info = document.getElementById('summative-template').innerHTML;

    var template = Handlebars.compile(info);

    var dataTemplate = template(pokemons);
    var templateWrite = document.getElementById('target').innerHTML += dataTemplate;


$(".card").on('click', function() {
    $(".badge").hide();
    $(".evolvesFrom").show();
    $(".evolvesTo").show();
    var dataNr = $(this).closest('.card-hide').attr('data-nr');
    $("#exampleModal").attr('data-nr', dataNr);
    var src = $(this).find('.card-img-top').attr('src');
    for (var i = 0; i < pokemons.names.length; i++) {
          pokemons.names[i].image == src;
        if ('img/' + pokemons.names[i].image == src)
          var name = pokemons.names[i].name;
        $(".modal-title").text(name);
        $("#img-modal").attr('src', src);
        $("#description").text(pokemons.names[i].description);
      }
        var weakness = $(this).find('.weakness').text()
        $("#weaknesses").text(weakness);
        var weaknessNames = weakness.slice(10);
        weaknessNames = weaknessNames.split(', ');
        for (var i = 0; i < weaknessNames.length; i++) {
           $(".badge-div").append('<span class="badge badge-pill mr-1 ml-1 badge-' + weaknessNames[i] + '">' + weaknessNames[i] + '</span>');
        }

        var typeNames = $(this).find('.type').text()
        var typeNames = typeNames.slice(6);
        typeNames = typeNames.split(', ');
        for (var i = 0; i < typeNames.length; i++) {
           $(".badge-type-div").append('<span class="badge badge-pill mr-1 ml-1 badge-' + typeNames[i] + '">' + typeNames[i] + '</span>');
        }

        var evolutionFrom = $(this).find('.evolves-from').text()
        var evolutionFrom = evolutionFrom.slice(14).toLowerCase();
        console.log(evolutionFrom);
        $(".evolves-from-img").attr('src',  'img/' + evolutionFrom + '.png');
        
        var evolutionTo = $(this).find('.evolves-to').text()
        var evolutionTo = evolutionTo.slice(12).toLowerCase();
        $(".evolves-to-img").attr('src',  'img/' + evolutionTo + '.png');


        if ($(".evolves-to-img").attr('src') == "img/.png") {
          $(".evolvesTo").hide();
        }
        if ($(".evolves-from-img").attr('src') == "img/.png") {
          $(".evolvesFrom").hide();
        }
});


  </script>

  


  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-XXXXX-Y', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>
</body>

</html>
